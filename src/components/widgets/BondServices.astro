---
import { Icon } from 'astro-icon/components';
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import Headline from '~/components/ui/Headline.astro';

export interface Props {
  id?: string;
  isDark?: boolean;
  classes?: Record<string, string>;
  title?: string;
  subtitle?: string;
}

const {
  id,
  isDark = false,
  classes = {},
  title = '提供サービス',
  subtitle = 'デジタルの力で地域ビジネスの成長を支援します',
} = Astro.props;

const services = [
  {
    title: 'Web制作・運用',
    description: 'お客さまに「見つけてもらえる」「選んでもらえる」Webサイトを制作。更新や改善もお任せください。',
    icon: 'tabler:world-www',
    href: '/services/web-production',
    features: ['レスポンシブ対応', 'SEO最適化', '保守運用'],
  },
  {
    title: 'EC構築・オンライン販売支援',
    description: '商品の魅力が伝わるECサイトを構築。在庫管理から配送まで、売上アップをトータルサポート。',
    icon: 'tabler:shopping-cart',
    href: '/services/ec',
    features: ['Shopify構築', '商品撮影', '運用代行'],
  },
  {
    title: 'MEO・LINE・集客導線設計',
    description: 'Googleマップでの上位表示、LINE公式アカウント活用で、地域のお客さまとの接点を増やします。',
    icon: 'tabler:map-pin',
    href: '/services/marketing',
    features: ['MEO対策', 'LINE構築', 'SNS運用'],
  },
  {
    title: 'ローカルDX・業務効率化',
    description: '手作業の自動化、データ活用で業務を効率化。本業に集中できる環境づくりをサポートします。',
    icon: 'tabler:cpu',
    href: '/services/dx',
    features: ['業務自動化', 'データ分析', 'システム導入'],
  },
];
---

<WidgetWrapper id={id} isDark={isDark} containerClass={`max-w-7xl mx-auto ${classes?.container ?? ''}`}>
  <Headline title={title} subtitle={subtitle} classes={classes?.headline ?? ''} />
  
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-12">
    {services.map((service) => (
      <div class="group relative bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden border border-bond-border">
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-bond-yellow-main to-bond-yellow-deep"></div>
        
        <div class="p-8">
          <div class="flex items-start">
            <div class="flex-shrink-0">
              <div class="flex items-center justify-center w-12 h-12 bg-bond-yellow-main/10 rounded-lg group-hover:bg-bond-yellow-main/20 transition-colors duration-300">
                <Icon name={service.icon} class="w-6 h-6 text-bond-navy" />
              </div>
            </div>
            <div class="ml-4 flex-1">
              <h3 class="text-xl font-bold text-bond-navy mb-2">
                {service.title}
              </h3>
              <p class="text-bond-text-sub mb-4 leading-relaxed">
                {service.description}
              </p>
              
              <div class="flex flex-wrap gap-2 mb-4">
                {service.features.map((feature) => (
                  <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-bond-background text-bond-text-main">
                    {feature}
                  </span>
                ))}
              </div>
              
              <a
                href={service.href}
                class="inline-flex items-center text-sm font-medium text-bond-navy hover:text-bond-yellow-deep transition-colors duration-200"
              >
                詳しく見る
                <Icon name="tabler:arrow-right" class="w-4 h-4 ml-1" />
              </a>
            </div>
          </div>
        </div>
      </div>
    ))}
  </div>

  <div class="mt-12 text-center">
    <a
      href="/services"
      class="btn-secondary"
    >
      すべてのサービスを見る
    </a>
  </div>
</WidgetWrapper>